<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ - –ú–µ—Ç—Ä–æ New</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root {
    --primary: #0066CC;
    --primary-dark: #0052a3;
    --secondary: #FFD700;
    --dark: #1A1A1A;
    --light: #F8F9FA;
    --gray: #6C757D;
    --success: #28A745;
    --warning: #FFC107;
    --danger: #DC3545;
}
body { font-family: 'Montserrat', sans-serif; background-color: var(--light); color: var(--dark); line-height: 1.6; }
header { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; padding: 1rem 0; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: sticky; top:0; z-index:1000;}
.container { width:90%; max-width:1200px; margin:0 auto; }
nav { display:flex; justify-content:space-between; align-items:center; }
.logo { display:flex; align-items:center; gap:10px; font-size:1.5rem; font-weight:700; }
.logo-icon { width:30px; height:30px; background-color: var(--secondary); border-radius:50%; display:flex; align-items:center; justify-content:center; color:var(--dark); font-weight:bold; }
.nav-links { display:flex; gap:1.5rem; }
.nav-links a { color:white; text-decoration:none; font-weight:500; padding:0.5rem 1rem; border-radius:4px; transition: all 0.3s ease; position:relative; }
.nav-links a:hover { background-color: rgba(255,255,255,0.15); }
.nav-links a::after { content:''; position:absolute; bottom:0; left:50%; transform:translateX(-50%); width:0; height:2px; background-color:var(--secondary); transition:width 0.3s ease; }
.nav-links a:hover::after { width:70%; }
main { padding:2rem 0; min-height:calc(100vh - 150px); }
.page-header { margin-bottom:2rem; }
.page-header h1 { font-size:2.5rem; color:var(--primary); margin-bottom:0.5rem; }
.page-header p { color:var(--gray); }
.overall-status { background-color:white; border-radius:12px; padding:2rem; box-shadow:0 4px 12px rgba(0,0,0,0.08); margin-bottom:2rem; text-align:center; }
.status-indicator { display:inline-flex; align-items:center; gap:0.5rem; font-size:1.2rem; font-weight:600; padding:0.8rem 1.5rem; border-radius:50px; margin-bottom:1rem; }
.status-indicator .dot { width:12px; height:12px; border-radius:50%; }
.status-operational { background-color: rgba(40,167,69,0.1); color:var(--success);}
.status-operational .dot { background-color:var(--success);}
.status-partial { background-color: rgba(255,193,7,0.1); color:var(--warning);}
.status-partial .dot { background-color:var(--warning);}
.status-outage { background-color: rgba(220,53,69,0.1); color:var(--danger);}
.status-outage .dot { background-color:var(--danger);}
.services-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(350px,1fr)); gap:1.5rem; }
.service-card { background-color:white; border-radius:12px; padding:1.5rem; box-shadow:0 4px 12px rgba(0,0,0,0.08); position:relative;}
.service-header { display:flex; align-items:center; gap:1rem; margin-bottom:1rem; }
.service-icon { width:40px; height:40px; background-color: rgba(0,102,204,0.1); border-radius:50%; display:flex; align-items:center; justify-content:center; color:var(--primary); font-size:1.2rem; }
.service-name { font-size:1.2rem; font-weight:600; }
.service-status { display:flex; align-items:center; gap:0.5rem; margin-bottom:0.5rem; }
.service-status .dot { width:10px; height:10px; border-radius:50%; }
.service-status .text { font-size:0.9rem; font-weight:500; }
.service-status.operational .dot { background-color:var(--success); }
.service-status.operational .text { color:var(--success); }
.service-status.partial .dot { background-color:var(--warning); }
.service-status.partial .text { color:var(--warning); }
.service-status.outage .dot { background-color:var(--danger); }
.service-status.outage .text { color:var(--danger); }
.service-description { color:var(--gray); font-size:0.9rem; margin-bottom:0.5rem; }
.service-time { color:var(--gray); font-size:0.8rem; display:flex; align-items:center; gap:0.3rem; }
.uptime { font-size:0.8rem; color:var(--primary-dark); margin-top:0.5rem; }
#filters { display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:1rem; }
#filters input { padding:0.5rem; border-radius:4px; border:1px solid var(--gray); flex:1; }
#filters button { padding:0.5rem 1rem; border:none; border-radius:4px; cursor:pointer; background-color:var(--primary); color:white; transition:0.3s; }
#filters button:hover { background-color:var(--primary-dark); }
#history-container h2 { margin-bottom:1rem; }
.history-item { border-left:5px solid; padding:0.5rem 1rem; margin-bottom:0.5rem; border-radius:4px; background-color:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.05); }
footer { background-color: var(--dark); color: white; padding: 2rem 0; text-align: center; }
</style>
</head>
<body>
<header>
<div class="container">
<nav>
<div class="logo">
<span class="logo-icon">M</span>
<span>–ú–µ—Ç—Ä–æ New</span>
</div>
<div class="nav-links">
<a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
<a href="status.html">–°—Ç–∞—Ç—É—Å</a>
<a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a>
</div>
</nav>
</div>
</header>

<main class="container">
<div class="page-header">
<h1>–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤</h1>
<p>–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ú–µ—Ç—Ä–æ New</p>
</div>

<div class="overall-status">
<div class="status-indicator status-operational">
<span class="dot"></span>
<span>–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ</span>
</div>
<p class="status-time">üïí –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 11 –∞–≤–≥—É—Å—Ç–∞ 2025, 00:00</p>
</div>

<!-- –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ -->
<div id="filters">
<input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Å–µ—Ä–≤–∏—Å–∞...">
<button data-status="all">–í—Å–µ</button>
<button data-status="operational">–†–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ</button>
<button data-status="partial">–° –ø–µ—Ä–µ–±–æ—è–º–∏</button>
<button data-status="outage">–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</button>
</div>

<div class="services-grid">
<!-- –ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ -->
<div class="service-card">
<div class="service-header">
<div class="service-icon">üí¨</div>
<div class="service-name">Discord —Å–µ—Ä–≤–µ—Ä</div>
</div>
<div class="service-status operational">
<span class="dot"></span>
<span class="text">–†–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ</span>
</div>
<p class="service-description">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Discord —Å–µ—Ä–≤–µ—Ä —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ú–µ—Ç—Ä–æ New</p>
<p class="service-time">üïí –û–±–Ω–æ–≤–ª–µ–Ω–æ: 11 –∞–≤–≥—É—Å—Ç–∞ 2025 00:00</p>
</div>

<div class="service-card">
<div class="service-header">
<div class="service-icon">üéÆ</div>
<div class="service-name">–ò–≥—Ä–∞ –≤ Roblox</div>
</div>
<div class="service-status operational">
<span class="dot"></span>
<span class="text">–†–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ</span>
</div>
<p class="service-description">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ –ú–µ—Ç—Ä–æ New –≤ Roblox</p>
<p class="service-time">üïí –û–±–Ω–æ–≤–ª–µ–Ω–æ: 11 –∞–≤–≥—É—Å—Ç–∞ 2025 00:00</p>
</div>

<div class="service-card">
<div class="service-header">
<div class="service-icon">üì¢</div>
<div class="service-name">–¢–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª</div>
</div>
<div class="service-status operational">
<span class="dot"></span>
<span class="text">–†–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ</span>
</div>
<p class="service-description">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Telegram –∫–∞–Ω–∞–ª —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏</p>
<p class="service-time">üïí –û–±–Ω–æ–≤–ª–µ–Ω–æ: 11 –∞–≤–≥—É—Å—Ç–∞ 2025 00:00</p>
</div>

<!-- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ -->
</div>

<!-- –ì—Ä–∞—Ñ–∏–∫ -->
<canvas id="downtimeChart" width="400" height="200" style="margin-top:2rem;"></canvas>

<!-- –ò—Å—Ç–æ—Ä–∏—è –æ—à–∏–±–æ–∫ -->
<div id="history-container"></div>
</main>

<footer>
<div class="container">
<p>¬© 2025 –ú–µ—Ç—Ä–æ New. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</div>
</footer>

<script>
async function updateStatus() {
    try {
        const response = await fetch('status.json');
        const data = await response.json();

        // –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å
        const overall = document.querySelector('.overall-status .status-indicator');
        if(data.overallStatus === "operational") {
            overall.className = "status-indicator status-operational";
            overall.querySelector('span:nth-child(2)').textContent = "–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ";
        } else if(data.overallStatus === "partial") {
            overall.className = "status-indicator status-partial";
            overall.querySelector('span:nth-child(2)').textContent = "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø–µ—Ä–µ–±–æ—è–º–∏";
        } else {
            overall.className = "status-indicator status-outage";
            overall.querySelector('span:nth-child(2)').textContent = "–°–∏—Å—Ç–µ–º—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç";
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫
        const serviceCards = document.querySelectorAll('.service-card');
        data.services.forEach((service,index)=>{
            const card = serviceCards[index];
            if(!card) return;
            const statusDiv = card.querySelector('.service-status');
            statusDiv.className = 'service-status '+service.status;
            statusDiv.querySelector('.text').textContent =
                service.status === "operational" ? "–†–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ" :
                service.status === "partial" ? "–†–∞–±–æ—Ç–∞–µ—Ç —Å –ø–µ—Ä–µ–±–æ—è–º–∏" : "–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç";
            card.querySelector('.service-time').textContent = `üïí –û–±–Ω–æ–≤–ª–µ–Ω–æ: ${new Date(service.updated).toLocaleString()}`;

            // Uptime
            const lastError = data.history.filter(h=>h.service===service.name && h.status!=='operational')
                                .sort((a,b)=>new Date(b.date)-new Date(a.date))[0];
            const now = new Date();
            const lastErrorDate = lastError ? new Date(lastError.date) : new Date(service.updated);
            const diffMs = now - lastErrorDate;
            const diffH = Math.floor(diffMs/1000/60/60);
            const diffM = Math.floor((diffMs/1000/60)%60);
            let uptimeDiv = card.querySelector('.uptime');
            if(!uptimeDiv) {
                uptimeDiv = document.createElement('div');
                uptimeDiv.className='uptime';
                card.appendChild(uptimeDiv);
            }
            uptimeDiv.textContent=`–ë–µ–∑ —Å–±–æ–µ–≤: ${diffH}—á ${diffM}–º`;
        });

        // –ò—Å—Ç–æ—Ä–∏—è –æ—à–∏–±–æ–∫
        let historyContainer = document.querySelector('#history-container');
        historyContainer.innerHTML='<h2>–ò—Å—Ç–æ—Ä–∏—è –æ—à–∏–±–æ–∫</h2>';
        data.history.forEach(item=>{
            const div=document.createElement('div');
            div.className='history-item';
            if(item.status==="operational") div.style.borderColor='green';
            else if(item.status==="partial") div.style.borderColor='orange';
            else div.style.borderColor='red';
            div.innerHTML=`<strong>${item.service}</strong> ‚Äî ${item.reason}<br>
            <small>${new Date(item.date).toLocaleString()}</small><br>
            <p>${item.description}</p>`;
            historyContainer.appendChild(div);
        });

        // –ì—Ä–∞—Ñ–∏–∫ —Å–±–æ–µ–≤
        const labels = data.services.map(s=>s.name);
        const counts = data.services.map(s=>data.history.filter(h=>h.service===s.name && h.status!=='operational').length);
        if(window.downtimeChart) window.downtimeChart.destroy();
        const ctx = document.getElementById('downtimeChart').getContext('2d');
        window.downtimeChart = new Chart(ctx,{ type:'bar', data:{ labels, datasets:[{label:'–ö–æ–ª-–≤–æ —Å–±–æ–µ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é', data:counts, backgroundColor:'rgba(255,99,132,0.5)'}] } });
        
    } catch(err){ console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞:",err);}
}

// –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫
document.querySelectorAll('#filters button').forEach(btn=>{
    btn.addEventListener('click',()=>{
        const status = btn.getAttribute('data-status');
        document.querySelectorAll('.service-card').forEach(card=>{
            if(status==='all'||card.querySelector('.service-status').classList.contains(status)) card.style.display='block';
            else card.style.display='none';
        });
    });
});
document.getElementById('searchInput').addEventListener('input',(e)=>{
    const query=e.target.value.toLowerCase();
    document.querySelectorAll('.service-card').forEach(card=>{
        const name = card.querySelector('.service-name').textContent.toLowerCase();
        card.style.display=name.includes(query)?'block':'none';
    });
});

setInterval(updateStatus,300000);
updateStatus();
</script>
</body>
</html>
