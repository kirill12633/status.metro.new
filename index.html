<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Metro New Статусы и Админка</title>
<style>
  body, html {
    margin: 0; padding: 0; min-height: 100vh;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f5f7ff;
    color: #222;
  }
  header {
    background: linear-gradient(90deg, #4f46e5, #3b82f6);
    color: white;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed;
    width: 100%;
    top: 0; left: 0;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
    z-index: 1000;
  }
  header h1 {
    margin: 0; font-weight: 700; font-size: 24px;
    user-select: none;
  }
  #adminButton {
    background: transparent;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    user-select: none;
  }
  main {
    max-width: 900px;
    margin: 90px auto 40px;
    padding: 0 20px;
  }
  #siteClosedBanner {
    background: #fee2e2;
    color: #b91c1c;
    border: 1px solid #fca5a5;
    padding: 10px 15px;
    border-radius: 6px;
    margin-bottom: 25px;
    font-weight: 600;
    display: none;
    text-align: center;
  }
  .statuses {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
    gap: 18px;
  }
  .status-item {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgb(0 0 0 / 0.07);
    padding: 15px 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    font-weight: 600;
    font-size: 18px;
  }
  .status-item svg {
    width: 30px; height: 30px;
    flex-shrink: 0;
  }
  .online {
    color: #16a34a;
  }
  .offline {
    color: #dc2626;
  }
  /* Админка */
  #adminPanel {
    position: fixed;
    top: 60px; right: 20px;
    width: 300px;
    background: white;
    box-shadow: 0 5px 15px rgb(0 0 0 / 0.3);
    border-radius: 12px;
    padding: 20px;
    display: none;
    z-index: 1100;
  }
  #adminPanel h2 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 20px;
    text-align: center;
    color: #4f46e5;
  }
  #adminPanel label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    font-weight: 600;
    font-size: 16px;
  }
  #adminPanel input[type="checkbox"] {
    transform: scale(1.3);
    cursor: pointer;
  }
  #adminPanel input[type="password"] {
    width: 100%;
    padding: 8px 10px;
    margin-bottom: 12px;
    font-size: 16px;
    border-radius: 6px;
    border: 1px solid #ccc;
  }
  #adminPanel button {
    background: #4f46e5;
    color: white;
    border: none;
    width: 100%;
    padding: 10px;
    font-weight: 700;
    font-size: 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #adminPanel button:hover {
    background: #4338ca;
  }
  #errorMsg {
    color: #dc2626;
    font-weight: 600;
    margin-bottom: 12px;
    display: none;
    text-align: center;
  }
  /* Иконки */
  svg.online-icon {
    fill: #16a34a;
  }
  svg.offline-icon {
    fill: #dc2626;
  }
</style>
</head>
<body>

<header>
  <h1>Metro New Статусы</h1>
  <button id="adminButton" title="Открыть админку" aria-label="Админ панель">⚙️</button>
</header>

<main>
  <div id="siteClosedBanner">⚠️ Внимание: сайт закрыт на технические работы</div>

  <div class="statuses" id="statusesContainer">
    <!-- Статусы будут тут -->
  </div>
</main>

<div id="adminPanel" role="dialog" aria-modal="true" aria-labelledby="adminPanelTitle">
  <h2 id="adminPanelTitle">Админ панель</h2>
  <input type="password" id="adminPassword" placeholder="Введите пароль" aria-label="Пароль админа" />
  <div id="errorMsg">Неверный пароль</div>

  <label for="siteClosedCheckbox">
    Закрыть сайт (технические работы)
    <input type="checkbox" id="siteClosedCheckbox" />
  </label>

  <label for="discordStatusCheckbox">
    Discord сервер онлайн
    <input type="checkbox" id="discordStatusCheckbox" />
  </label>

  <label for="robloxStatusCheckbox">
    Roblox игры онлайн
    <input type="checkbox" id="robloxStatusCheckbox" />
  </label>

  <label for="youtubeStatusCheckbox">
    YouTube канал онлайн
    <input type="checkbox" id="youtubeStatusCheckbox" />
  </label>

  <label for="telegramStatusCheckbox">
    Телеграм канал онлайн
    <input type="checkbox" id="telegramStatusCheckbox" />
  </label>

  <label for="websiteStatusCheckbox">
    Сайт онлайн
    <input type="checkbox" id="websiteStatusCheckbox" />
  </label>

  <button id="saveSettingsButton">Сохранить</button>
  <button id="resetSettingsButton" style="margin-top:10px; background:#dc2626;">Сбросить настройки</button>
</div>

<script>
  const ADMIN_PASSWORD = '1234';

  // Элементы
  const adminButton = document.getElementById('adminButton');
  const adminPanel = document.getElementById('adminPanel');
  const adminPasswordInput = document.getElementById('adminPassword');
  const errorMsg = document.getElementById('errorMsg');
  const siteClosedCheckbox = document.getElementById('siteClosedCheckbox');
  const discordStatusCheckbox = document.getElementById('discordStatusCheckbox');
  const robloxStatusCheckbox = document.getElementById('robloxStatusCheckbox');
  const youtubeStatusCheckbox = document.getElementById('youtubeStatusCheckbox');
  const telegramStatusCheckbox = document.getElementById('telegramStatusCheckbox');
  const websiteStatusCheckbox = document.getElementById('websiteStatusCheckbox');
  const saveSettingsButton = document.getElementById('saveSettingsButton');
  const resetSettingsButton = document.getElementById('resetSettingsButton');
  const siteClosedBanner = document.getElementById('siteClosedBanner');
  const statusesContainer = document.getElementById('statusesContainer');

  // Статусы и ключи для localStorage
  const statusKeys = {
    siteClosed: 'status_siteClosed',
    discord: 'status_discord',
    roblox: 'status_roblox',
    youtube: 'status_youtube',
    telegram: 'status_telegram',
    website: 'status_website'
  };

  // Иконки SVG для каждого сервиса
  const icons = {
    discord: `<svg class="online-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.3698A19.7913 19.7913 0 0016.08 3c-.255 0-.508.012-.758.035a12.74 12.74 0 00-4.736 0A15.87 15.87 0 0010.88 3c-4.267 0-7.85 1.361-10.132 3.37a21.148 21.148 0 00-2.994 7.777c-.246 1.312-.246 2.679 0 3.99a19.745 19.745 0 003.024 7.829 14.128 14.128 0 005.607 3.648c.59.111 1.195.166 1.803.166.61 0 1.218-.055 1.805-.166a14.109 14.109 0 005.604-3.649 19.78 19.78 0 003.027-7.831c.243-1.311.243-2.677 0-3.99a21.176 21.176 0 00-2.997-7.778zM8.75 15.25c-1.105 0-2-.968-2-2.161 0-1.19.89-2.162 2-2.162s2 .968 2 2.161c0 1.19-.89 2.162-2 2.162zm6.5 0c-1.105 0-2-.968-2-2.161 0-1.19.89-2.162 2-2.162s2 .968 2 2.161c0 1.19-.9 2.162-2 2.162z"/></svg>`,
    roblox: `<svg class="online-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7 2L17 12 7 22z"/></svg>`,
    youtube: `<svg class="online-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.615 3.184c-.957-.351-5.133-.351-5.133-.351s-4.19 0-5.13.351c-.914.336-1.52 1.266-1.52 3.56v5.448c0 2.292.606 3.22 1.52 3.557.94.35 5.133.35 5.133.35s4.178 0 5.133-.35c.918-.338 1.522-1.267 1.522-3.558v-5.45c0-2.292-.604-3.22-1.52-3.558zM10.538 14.58v-5.43l4.613 2.716-4.613 2.715z"/></svg>`,
    telegram: `<svg class="online-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M9.993 16.179c-.304 0-.38-.138-.516-.487l-1.789-5.38-1.74-.575c-.373-.123-.381-.373.08-.54l8.812-3.4c.41-.158.77.095.62.572l-1.66 7.72c-.123.55-.45.692-.79.43l-2.017-1.68-1.27 1.23c-.152.145-.28.269-.5.269z"/></svg>`,
    website: `<svg class="online-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>`
  };

  // Метки для сервисов
  const serviceLabels = {
    discord: 'Discord сервер',
    roblox: 'Roblox игры',
    youtube: 'YouTube канал',
    telegram: 'Телеграм канал',
    website: 'Сайт'
  };

  // Отрисовка статусов
  function renderStatuses(settings) {
    statusesContainer.innerHTML = '';
    for (const [key, label] of Object.entries(serviceLabels)) {
      const isOnline = settings[key];
      const statusItem = document.createElement('div');
      statusItem.className = 'status-item ' + (isOnline ? 'online' : 'offline');
      statusItem.innerHTML = `${icons[key]} <span>${label}: <strong>${isOnline ? 'Онлайн' : 'Оффлайн'}</strong></span>`;
      statusesContainer.appendChild(statusItem);
    }
  }

  // Загрузка настроек из localStorage или дефолт
  function loadSettings() {
    return {
      siteClosed: JSON.parse(localStorage.getItem(statusKeys.siteClosed)) || false,
      discord: JSON.parse(localStorage.getItem(statusKeys.discord)) ?? true,
      roblox: JSON.parse(localStorage.getItem(statusKeys.roblox)) ?? true,
      youtube: JSON.parse(localStorage.getItem(statusKeys.youtube)) ?? true,
      telegram: JSON.parse(localStorage.getItem(statusKeys.telegram)) ?? true,
      website: JSON.parse(localStorage.getItem(statusKeys.website)) ?? true
    };
  }

  // Сохранение настроек в localStorage
  function saveSettings(settings) {
    localStorage.setItem(statusKeys.siteClosed, JSON.stringify(settings.siteClosed));
    localStorage.setItem(statusKeys.discord, JSON.stringify(settings.discord));
    localStorage.setItem(statusKeys.roblox, JSON.stringify(settings.roblox));
    localStorage.setItem(statusKeys.youtube, JSON.stringify(settings.youtube));
    localStorage.setItem(statusKeys.telegram, JSON.stringify(settings.telegram));
    localStorage.setItem(statusKeys.website, JSON.stringify(settings.website));
  }

  // Обновление интерфейса на основе настроек
  function updateUI(settings) {
    siteClosedBanner.style.display = settings.siteClosed ? 'block' : 'none';
    renderStatuses(settings);
  }

  // Валидация пароля и открытие админки
  function openAdminPanel() {
    errorMsg.style.display = 'none';
    adminPasswordInput.value = '';
    adminPanel.style.display = 'block';
    adminPasswordInput.focus();

    // Заполнение чекбоксов текущими настройками
    const settings = loadSettings();
    siteClosedCheckbox.checked = settings.siteClosed;
    discordStatusCheckbox.checked = settings.discord;
    robloxStatusCheckbox.checked = settings.roblox;
    youtubeStatusCheckbox.checked = settings.youtube;
    telegramStatusCheckbox.checked = settings.telegram;
    websiteStatusCheckbox.checked = settings.website;
  }

  // Закрыть админку
  function closeAdminPanel() {
    adminPanel.style.display = 'none';
  }

  adminButton.addEventListener('click', () => {
    if (adminPanel.style.display === 'block') {
      closeAdminPanel();
    } else {
      openAdminPanel();
    }
  });

  saveSettingsButton.addEventListener('click', () => {
    if (adminPasswordInput.value !== ADMIN_PASSWORD) {
      errorMsg.style.display = 'block';
      return;
    }
    errorMsg.style.display = 'none';

    const newSettings = {
      siteClosed: siteClosedCheckbox.checked,
      discord: discordStatusCheckbox.checked,
      roblox: robloxStatusCheckbox.checked,
      youtube: youtubeStatusCheckbox.checked,
      telegram: telegramStatusCheckbox.checked,
      website: websiteStatusCheckbox.checked
    };

    saveSettings(newSettings);
    updateUI(newSettings);
    closeAdminPanel();
  });

  resetSettingsButton.addEventListener('click', () => {
    if (!confirm('Вы действительно хотите сбросить настройки к значениям по умолчанию?')) return;

    const defaultSettings = {
      siteClosed: false,
      discord: true,
      roblox: true,
      youtube: true,
      telegram: true,
      website: true
    };
    saveSettings(defaultSettings);
    updateUI(defaultSettings);
    closeAdminPanel();
  });

  // Инициализация страницы
  updateUI(loadSettings());
</script>

</body>
</html>

